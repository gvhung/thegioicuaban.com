va="email".split(",");method=0;on_off=1;dockspell=1;dauCu=1;useCookie=1;radioID="him_auto,him_telex,him_vni,him_viqr,him_viqr2,him_off,him_ckspell,him_daucu".split(",");var agt=navigator.userAgent.toLowerCase(),alphabet="QWERTYUIOPASDFGHJKLZXCVBNM ",them,spellerr,setCookie,getCookie,attached=new Array();var is_ie=((agt.indexOf("msie")!=-1)&&(agt.indexOf("opera")==-1)),S,F,J,R,X,D,oc,sk,saveStr,wi,frame,is_opera=false,D2,isKHTML=false;var is_chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;var is_safari=navigator.userAgent.toLowerCase().indexOf("safari")>-1;var ver=0,support=true,changed=false,specialChange=false,uni,uni2,g,h,SFJRX,DAWEO,Z,AEO,moc,trang,kl=0,tw5,range=null,fID=document.getElementsByTagName("iframe");skey=new Array(97,226,259,101,234,105,111,244,417,117,432,121,65,194,258,69,202,73,79,212,416,85,431,89);var skey2="a,a,a,e,e,i,o,o,o,u,u,y,A,A,A,E,E,I,O,O,O,U,U,Y".split(","),A,E,O,whit=false,english="ĐÂĂƠƯÊÔ",lowen="đâăơưêô",ds1="d,D".split(","),db1=new Array(273,272);os1="o,O,ơ,Ơ,ó,Ó,ò,Ò,ọ,Ọ,ỏ,Ỏ,õ,Õ,ớ,Ớ,ờ,Ờ,ợ,Ợ,ở,Ở,ỡ,Ỡ".split(","),ob1="ô,Ô,ô,Ô,ố,Ố,ồ,Ồ,ộ,Ộ,ổ,Ổ,ỗ,Ỗ,ố,Ố,ồ,Ồ,ộ,Ộ,ổ,Ổ,ỗ,Ỗ".split(",");mocs1="o,O,ô,Ô,u,U,ó,Ó,ò,Ò,ọ,Ọ,ỏ,Ỏ,õ,Õ,ú,Ú,ù,Ù,ụ,Ụ,ủ,Ủ,ũ,Ũ,ố,Ố,ồ,Ồ,ộ,Ộ,ổ,Ổ,ỗ,Ỗ".split(",");mocb1="ơ,Ơ,ơ,Ơ,ư,Ư,ớ,Ớ,ờ,Ờ,ợ,Ợ,ở,Ở,ỡ,Ỡ,ứ,Ứ,ừ,Ừ,ự,Ự,ử,Ử,ữ,Ữ,ớ,Ớ,ờ,Ờ,ợ,Ợ,ở,Ở,ỡ,Ỡ".split(",");trangs1="a,A,â,Â,á,Á,à,À,ạ,Ạ,ả,Ả,ã,Ã,ấ,Ấ,ầ,Ầ,ậ,Ậ,ẩ,Ẩ,ẫ,Ẫ".split(",");trangb1="ă,Ă,ă,Ă,ắ,Ắ,ằ,Ằ,ặ,Ặ,ẳ,Ẳ,ẵ,Ẵ,ắ,Ắ,ằ,Ằ,ặ,Ặ,ẳ,Ẳ,ẵ,Ẵ".split(",");as1="a,A,ă,Ă,á,Á,à,À,ạ,Ạ,ả,Ả,ã,Ã,ắ,Ắ,ằ,Ằ,ặ,Ặ,ẳ,Ẳ,ẵ,Ẵ,ế,Ế,ề,Ề,ệ,Ệ,ể,Ể,ễ,Ễ".split(",");ab1="â,Â,â,Â,ấ,Ấ,ầ,Ầ,ậ,Ậ,ẩ,Ẩ,ẫ,Ẫ,ấ,Ấ,ầ,Ầ,ậ,Ậ,ẩ,Ẩ,ẫ,Ẫ,é,É,è,È,ẹ,Ẹ,ẻ,Ẻ,ẽ,Ẽ".split(",");es1="e,E,é,É,è,È,ẹ,Ẹ,ẻ,Ẻ,ẽ,Ẽ".split(",");eb1="ê,Ê,ế,Ế,ề,Ề,ệ,Ệ,ể,Ể,ễ,Ễ".split(",");arA="á,à,ả,ã,ạ,a,Á,À,Ả,Ã,Ạ,A".split(",");mocrA="ó,ò,ỏ,õ,ọ,o,ú,ù,ủ,ũ,ụ,u,Ó,Ò,Ỏ,Õ,Ọ,O,Ú,Ù,Ủ,Ũ,Ụ,U".split(",");erA="é,è,ẻ,ẽ,ẹ,e,É,È,Ẻ,Ẽ,Ẹ,E".split(",");orA="ó,ò,ỏ,õ,ọ,o,Ó,Ò,Ỏ,Õ,Ọ,O".split(",");aA="ấ,ầ,ẩ,ẫ,ậ,â,Ấ,Ầ,Ẩ,Ẫ,Ậ,Â".split(",");mocA="ớ,ờ,ở,ỡ,ợ,ơ,ứ,ừ,ử,ữ,ự,ư,Ớ,Ờ,Ở,Ỡ,Ợ,Ơ,Ứ,Ừ,Ử,Ữ,Ự,Ư".split(",");trangA="ắ,ằ,ẳ,ẵ,ặ,ă,Ắ,Ằ,Ẳ,Ẵ,Ặ,Ă".split(",");eA="ế,ề,ể,ễ,ệ,ê,Ế,Ề,Ể,Ễ,Ệ,Ê".split(",");oA="ố,ồ,ổ,ỗ,ộ,ô,Ố,Ồ,Ổ,Ỗ,Ộ,Ô".split(",");function notWord(a){var b=" \r\n#,\\;.:-_()<>+-*/=?!\"$%{}[]'~|^@&\t"+fcc(160);return(b.indexOf(a)>=0)}function nan(a){if((isNaN(a))||(a=="e")){return true}else{return false}}function mozGetText(c){var b,d,a="";g=1;b=(c.data)?c.data:c.value;if(b.length<=0){return false}if(!c.data){if(!c.setSelectionRange){return false}d=c.selectionStart}else{d=c.pos}if(c.selectionStart!=c.selectionEnd){return new Array("",d)}while(1){if(d-g<0){break}else{if(notWord(b.substr(d-g,1))){if(b.substr(d-g,1)=="\\"){a=b.substr(d-g,1)+a}break}else{a=b.substr(d-g,1)+a}}g++}return new Array(a,d)}function start(d,c){var a="",e;oc=d;uni2=false;if(method==0){uni="D,A,E,O,W,W".split(",");uni2="9,6,6,6,7,8".split(",");D2="DAWEO6789"}else{if(method==1){uni="D,A,E,O,W,W".split(",");D2="DAWEO"}else{if(method==2){uni="9,6,6,6,7,8".split(",");D2="6789"}else{if(method==3){uni="D,^,^,^,+,(".split(",");D2="D^+("}else{if(method==4){uni="D,^,^,^,*,(".split(",");D2="D^*("}}}}}if(!is_ie){c=fcc(c.which);a=mozGetText(d);if(D2.indexOf(up(c))>=0){e=true}else{e=false}if((!a)||(d.sel)){return}main(a[0],c,a[1],uni,e);if(!dockspell){a=mozGetText(d)}if((a)&&(uni2)&&(!changed)){main(a[0],c,a[1],uni2,e)}}else{d=ieGetText(d);if(d){var b=d.cW.text;a=main(d.cW.text,c,0,uni,false);if((uni2)&&((a==b)||(typeof(a)=="undefined"))){a=main(d.cW.text,c,0,uni2,false)}if(a){d.cW.text=a}}}if(D2.indexOf(up(c))>=0){if(!is_ie){a=mozGetText(d);if(!a){return}normC(a[0],c,a[1])}else{if(typeof(d)=="object"){d=ieGetText(d);if(d){a=d.cW.text;if(!changed){a+=c;changed=true}d.cW.text=a;a=normC(a,c,0);if(a){d=ieGetText(d);d.cW.text=a}}}}}}function ieGetText(b){var c=b.document.selection.createRange(),a="";if(c.text){c.text=""}else{while(1){c.moveStart("character",-1);if(a.length==c.text.length){break}a=c.text;if(notWord(a.charAt(0))){if(a.charCodeAt(0)==13){a=a.substr(2)}else{if(a.charAt(0)!="\\"){a=a.substr(1)}}break}}}if(a.length){c.collapse(false);c.moveStart("character",-a.length);b.cW=c.duplicate();return b}else{return false}}function ie_replaceChar(a,f,e){var d="",b=0;if(isNaN(e)){b=up(e)}if((whit)&&(up(a.substr(a.length-f-1,1))=="U")&&(f!=1)&&(up(a.substr(a.length-f-2,1))!="Q")){whit=false;if((up(unV(fcc(e)))=="Ơ")||(b=="O")){if(a.substr(a.length-f-1,1)=="u"){d=fcc(432)}else{d=fcc(431)}}if(b=="O"){if(e=="o"){e=417}else{e=416}}}if(!isNaN(e)){changed=true;d+=fcc(e);return a.substr(0,a.length-f-d.length+1)+d+a.substr(a.length-f+1)}else{return a.substr(0,a.length-f)+e+a.substr(a.length-f+1)}}function tr(d,p,j,f,e){var a,o=findC(p,d,f);if(o){if(o[1]){if(is_ie){return ie_replaceChar(p,o[0],o[1])}else{return replaceChar(oc,e-o[0],o[1])}}else{var m,b=p.substr(p.length-o,1),n;a=f;for(g=0;g<a.length;g++){if((nan(a[g]))||(a[g]=="e")){n=b}else{n=b.charCodeAt(0)}if(n==a[g]){if(!nan(j[g])){m=j[g]}else{m=j[g].charCodeAt(0)}if(is_ie){return ie_replaceChar(p,o,m)}else{return replaceChar(oc,e-o,m)}}}}}return false}function main(q,d,e,p,c){var n=up(d),s=new Array(db1,ab1,eb1,ob1,mocb1,trangb1),o=false,r="d,D,a,A,a,A,o,O,u,U,e,E,o,O".split(",");var b=new Array(ds1,as1,es1,os1,mocs1,trangs1),m=new Array(),f=new Array();if((method==2)||((method==0)&&(p[0]=="9"))){DAWEO="6789";SFJRX="12534";S="1";F="2";J="5";R="3";X="4";Z="0";D="9";FRX="234";AEO="6";moc="7";trang="8";them="678";A="^";E="^";O="^"}else{if(method==3){DAWEO="^+(D";SFJRX="'`.?~";S="'";F="`";J=".";R="?";X="~";Z="-";D="D";FRX="`?~";AEO="^";moc="+";trang="(";them="^+(";A="^";E="^";O="^"}else{if(method==4){DAWEO="^*(D";SFJRX="'`.?~";S="'";F="`";J=".";R="?";X="~";Z="-";D="D";FRX="`?~";AEO="^";moc="*";trang="(";them="^*(";A="^";E="^";O="^"}else{if((method==1)||((method==0)&&(p[0]=="D"))){SFJRX="SFJRX";DAWEO="DAWEO";D="D";S="S";F="F";J="J";R="R";X="X";Z="Z";FRX="FRX";them="AOEW";trang="W";moc="W";A="A";E="E";O="O"}}}}if(SFJRX.indexOf(n)>=0){var j=sr(q,d,e);o=true;if(j){return j}}else{if(n==Z){f=repSign(null);for(h=0;h<english.length;h++){f[f.length]=lowen.charCodeAt(h);f[f.length]=english.charCodeAt(h)}for(h=0;h<5;h++){for(g=0;g<skey.length;g++){m[m.length]=skey[g]}}for(h=0;h<r.length;h++){m[m.length]=r[h]}o=true}else{for(h=0;h<p.length;h++){if(p[h]==n){o=true;m=m.concat(s[h]);f=f.concat(b[h])}}}}if(n==moc){whit=true}if(!o){if(c){return}return normC(q,d,e)}return DAWEOZ(d,q,m,f,e,n)}function DAWEOZ(b,a,f,e,c,d){if((DAWEO.indexOf(d)>=0)||(Z.indexOf(d)>=0)){return tr(b,a,f,e,c)}}function normC(v,e,n){var p=up(e),y=repSign(null),x,q,f,b=(e.charCodeAt(0)==32)?true:false;if((!is_ie)&&(b)){return}for(f=1;f<=v.length;f++){for(h=0;h<y.length;h++){if(y[h]==v.charCodeAt(v.length-f)){if(h<=23){x=S}else{if(h<=47){x=F}else{if(h<=71){x=J}else{if(h<=95){x=R}else{x=X}}}}q=skey[h%24];if((alphabet.indexOf(p)<0)&&(D2.indexOf(p)<0)){return v}v=unV(v);if((!b)&&(!changed)){v+=e}if(!is_ie){var d=oc.selectionStart,r=d;if(!changed){var B=oc.scrollTop;r+=e.length;if(!oc.data){oc.value=oc.value.substr(0,d)+e+oc.value.substr(oc.selectionEnd);changed=true;oc.scrollTop=B}else{oc.insertData(oc.pos,e);oc.pos++;range.setEnd(oc,oc.pos);specialChange=true}}if(!oc.data){oc.setSelectionRange(r,r)}if(!ckspell(v,x)){replaceChar(oc,n-f,q);if(!oc.data){var s=new Array(D);main(v,x,r,s,false)}else{var m=mozGetText(oc);var s=new Array(D);main(m[0],x,m[1],s,false)}}}else{var o=sr(v,x,0);if((b)&&(o)){o+=fcc(32)}if(o){return o}}}}}}function nospell(a,b){return false}function ckspell(r,H){r=unV(r);var B="UOU,IEU".split(","),p,C=true,d="UU,UOU,UOI,IEU,AO,IA,AI,AY,AU,AO".split(","),L="YEU",P,V,U;var T=true,aa="UE,UYE,IU,EU,UY".split(","),j="AY,AU".split(","),Q="UA",u=-1,K="IAO";var n=up(r),W=n,o=false,N="IO",Y="OE,OO,AO,EO,IA,AI".split(","),I="OA";var q="AA,AE,EE,OU,YY,YI,IY,EY,EA,EI,II,IO,YO,YA,OOO".split(","),v=up(H),f,c=unV2(n);var e="B,C,D,G,H,K,L,M,N,P,Q,R,S,T,V,X".split(","),y="CH,GI,KH,NGH,GH,NG,NH,PH,QU,TH,TR".split(",");var m="CH,NG,NH".split(","),G="C,P,T,CH".split(","),s="C,M,N,P,T".split(",");var x="O,U,IE,Ô,Ơ,Ư,IÊ,Ă,Â,UYE,UYÊ,UO,ƯƠ,ƯO,UƠ,UA,ƯA,OĂ,OE,OÊ".split(","),M="UU,UOU".split(",");if(FRX.indexOf(v)>=0){for(V=0;V<G.length;V++){if(n.substr(n.length-G[V].length,G[V].length)==G[V]){return true}}}for(V=0;V<n.length;V++){if("FJZW1234567890".indexOf(n.substr(V,1))>=0){return true}for(U=0;U<q.length;U++){if(c.substr(V,q[U].length)==q[U]){for(p=0;p<B.length;p++){if(c.indexOf(B[p])>=0){C=false}}if((C)&&((N.indexOf(q[U])<0)||(V<=0)||(c.substr(V-1,1)!="G"))){return true}}}}for(U=0;U<y.length;U++){if(W.indexOf(y[U])==0){W=W.substr(y[U].length);o=true;u=U;break}}if(!o){for(U=0;U<e.length;U++){if(W.indexOf(e[U])==0){W=W.substr(1);break}}}o=false;f=W;for(U=0;U<m.length;U++){if(W.substr(W.length-m[U].length)==m[U]){W=W.substr(0,W.length-m[U].length);if(U==2){for(p=0;p<x.length;p++){if(W==x[p]){return true}}if((v==trang)&&((W=="OA")||(W=="A"))){return true}}o=true;break}}if(!o){for(U=0;U<s.length;U++){if(W.substr(W.length-1)==s[U]){W=W.substr(0,W.length-1);break}}}if(W){for(V=0;V<y.length;V++){for(U=0;U<W.length;U++){if(W.substr(U,y[V].length)==y[V]){return true}}}for(V=0;V<e.length;V++){if(W.indexOf(e[V])>=0){return true}}}P=W.substr(0,1);if((u==3)&&((P=="A")||(P=="O")||(P=="U")||(P=="Y"))){return true}if((u==5)&&((P=="E")||(P=="I")||(P=="Y"))){return true}c=unV2(W);if(c==K){return true}if(W!=f){for(p=0;p<d.length;p++){if(c==d[p]){return true}}}if((W!=n)&&(c==L)){return true}if(v!=moc){for(p=0;p<M.length;p++){if(W==M[p]){return true}}}if((c.indexOf("UYE")>0)&&(v=="E")){T=false}if((them.indexOf(v)>=0)&&(T)){for(V=0;V<Y.length;V++){if(c.indexOf(Y[V])>=0){return true}}if(v!=trang){if(c==I){return true}}if((v==trang)&&(trang!="W")){if(c==Q){return true}}if(v==moc){for(V=0;V<aa.length;V++){if(c==aa[V]){return true}}}if((v==moc)||(v==trang)){for(V=0;V<j.length;V++){if(c==j[V]){return true}}}}tw5=W;if((c.charCodeAt(0)==272)||(c.charCodeAt(0)==273)){if(c.length>4){return true}}else{if(c.length>3){return true}}return false}function DAWEOF(n,d){var e=new Array(),f=new Array(A,moc,trang,E,O),m,c;e[0]=g;var b=new Array(aA,mocA,trangA,eA,oA),j=new Array(arA,mocrA,arA,erA,orA);for(c=0;c<f.length;c++){if(d==f[c]){for(m=0;m<b[c].length;m++){if(n==b[c][m]){e[1]=j[c][m]}}}}if(e[1]){return e}else{return false}}function findC(q,I,P){if(((method==3)||(method==4))&&(q.substr(q.length-1,1)=="\\")){return new Array(1,I.charCodeAt(0))}var G="",T,B="",a="",b="",e=new Array(),x="ÂĂÊÔƠƯêâăơôư",M=0,H=false,o=up(q),Q;var r=aA.join()+eA.join()+mocA.join()+trangA.join()+oA.join()+english;r=up(r);for(g=0;g<P.length;g++){if(nan(P[g])){G+=P[g]}else{G+=fcc(P[g])}}var y=up(I),K=q.length,L=repSign(I),p=up(unV2(unV(q))),n="ƯA,ƯU".split(",");if(DAWEO.indexOf(y)>=0){if(y==moc){if((p.indexOf("UU")>=0)&&(tw5!=n[1])){if(p.indexOf("UU")==(q.length-2)){T=2}else{return false}}else{if(p.indexOf("UOU")>=0){if(p.indexOf("UOU")==(q.length-3)){T=2}else{return false}}}}if(!T){for(g=1;g<=q.length;g++){B=q.substr(q.length-g,1);a=up(q.substr(q.length-g-1,1));uc=up(B);for(h=0;h<n.length;h++){if((tw5==n[h])&&(tw5==unV(a+uc))){H=true}}if(H){H=false;continue}if(G.indexOf(uc)>=0){if(((y==moc)&&(unV(uc)=="U")&&(up(unV(q.substr(q.length-g+1,1)))=="A"))||((y==trang)&&(unV(uc)=="A")&&(unV(a)=="U"))){if(unV(uc)=="U"){Q=1}else{Q=2}ccc=up(q.substr(q.length-g-Q,1));if(ccc!="Q"){T=g+Q-1}else{if(y==trang){T=g}else{if(moc!=trang){return false}}}}else{T=g}if((!whit)||(o.indexOf("Ư")<0)||(o.indexOf("W")<0)){break}}else{if(r.indexOf(uc)>=0){if(y==D){if(B=="đ"){T=new Array(g,"d")}else{if(B=="Đ"){T=new Array(g,"D")}}}else{T=DAWEOF(B,y)}if(T){break}}}}}}if((y!=Z)&&(DAWEO.indexOf(y)<0)){var m=retKC(y);for(g=0;g<m.length;g++){b+=fcc(m[g])}}for(g=1;g<=q.length;g++){if(DAWEO.indexOf(y)<0){B=up(q.substr(q.length-g,1));a=up(q.substr(q.length-g-1,1));if(G.indexOf(B)>=0){if(B=="U"){if(a!="Q"){M++;e[e.length]=g}}else{if(B=="I"){if((a!="G")||(M<=0)){M++;e[e.length]=g}}else{M++;e[e.length]=g}}}else{if(y!=Z){for(h=0;h<L.length;h++){if(L[h]==q.charCodeAt(q.length-g)){if(spellerr(q,I)){return false}return new Array(g,m[h%24])}}for(h=0;h<m.length;h++){if(m[h]==q.charCodeAt(q.length-g)){return new Array(g,fcc(skey[h]))}}}}}}if((y!=Z)&&(typeof(T)!="object")){if(spellerr(q,I)){return false}}if(DAWEO.indexOf(y)<0){for(g=1;g<=q.length;g++){if((y!=Z)&&(x.indexOf(q.substr(q.length-g,1))>=0)){return g}else{if(b.indexOf(q.substr(q.length-g,1))>=0){for(h=0;h<m.length;h++){if(q.substr(q.length-g,1).charCodeAt(0)==m[h]){return new Array(g,fcc(skey[h]))}}}}}}if(T){return T}if((M==1)||(y==Z)){return e[0]}else{if(M==2){var u=2;if(q.substr(q.length-1)==" "){u=3}var j=up(q.substr(q.length-u,2));if((dauCu==0)&&((j=="UY")||(j=="OA")||(j=="OE"))){return e[0]}var C=0,f,d="BCD"+fcc(272)+"GHKLMNPQRSTVX",N="CH,GI,KH,NGH,GH,NG,NH,PH,QU,TH,TR".split(",");for(h=1;h<=q.length;h++){f=false;for(g=0;g<N.length;g++){if(up(q.substr(q.length-h-N[g].length+1,N[g].length)).indexOf(N[g])>=0){C++;f=true;if(N[g]!="NGH"){h++}else{h+=2}}}if(!f){if(d.indexOf(up(q.substr(q.length-h,1)))>=0){C++}else{break}}}if((C==1)||(C==2)){return e[0]}else{return e[1]}}else{if(M==3){return e[1]}else{return false}}}}function unV(e){var f=repSign(null),c,d;for(d=1;d<=e.length;d++){for(c=0;c<f.length;c++){if(f[c]==e.charCodeAt(e.length-d)){e=e.substr(0,e.length-d)+fcc(skey[c%24])+e.substr(e.length-d+1)}}}return e}function unV2(e){var d,c;for(d=1;d<=e.length;d++){for(c=0;c<skey.length;c++){if(skey[c]==e.charCodeAt(e.length-d)){e=e.substr(0,e.length-d)+skey2[c]+e.substr(e.length-d+1)}}}return e}function repSign(e){var j=new Array(),f=new Array(),d,c;for(d=0;d<5;d++){if((e==null)||(SFJRX.substr(d,1)!=up(e))){j=retKC(SFJRX.substr(d,1));for(c=0;c<j.length;c++){f[f.length]=j[c]}}}return f}function sr(a,b,d){var e=getSF();pos=findC(a,b,e);if(pos){if(pos[1]){if(!is_ie){replaceChar(oc,d-pos[0],pos[1])}else{return ie_replaceChar(a,pos[0],pos[1])}}else{var f=retUni(a,b,pos);if(!is_ie){replaceChar(oc,d-pos,f)}else{return ie_replaceChar(a,pos,f)}}}return false}function retUni(e,f,o){var j=retKC(up(f)),d,m,n=e.charCodeAt(e.length-o),b;for(b=0;b<skey.length;b++){if(skey[b]==n){if(b<12){m=b;d=b+12}else{m=b-12;d=b}t=fcc(n);if(t!=up(t)){return j[m]}return j[d]}}}function replaceChar(b,m,k){var j=false;if(!nan(k)){var f=fcc(k),e=up(unV(fcc(k)));changed=true}else{var f=k;if((up(k)=="O")&&(whit)){j=true}}if(!b.data){var d=b.selectionStart,n=b.scrollTop;if((up(b.value.substr(m-1,1))=="U")&&(m<d-1)&&(up(b.value.substr(m-2,1))!="Q")){if((e=="Ơ")||(j)){if(b.value.substr(m-1,1)=="u"){var a=fcc(432)}else{var a=fcc(431)}}if(j){changed=true;if(k=="o"){f="ơ"}else{f="Ơ"}}}b.value=b.value.substr(0,m)+f+b.value.substr(m+1);if(a){b.value=b.value.substr(0,m-1)+a+b.value.substr(m)}b.setSelectionRange(d,d);b.scrollTop=n}else{if((up(b.data.substr(m-1,1))=="U")&&(m<b.pos-1)){if((e=="Ơ")||(j)){if(b.data.substr(m-1,1)=="u"){var a=fcc(432)}else{var a=fcc(431)}}if(j){changed=true;if(k=="o"){f="ơ"}else{f="Ơ"}}}b.deleteData(m,1);b.insertData(m,f);if(a){b.deleteData(m-1,1);b.insertData(m-1,a)}}if(whit){whit=false}}function retKC(a){if(a==S){return new Array(225,7845,7855,233,7871,237,243,7889,7899,250,7913,253,193,7844,7854,201,7870,205,211,7888,7898,218,7912,221)}if(a==F){return new Array(224,7847,7857,232,7873,236,242,7891,7901,249,7915,7923,192,7846,7856,200,7872,204,210,7890,7900,217,7914,7922)}if(a==J){return new Array(7841,7853,7863,7865,7879,7883,7885,7897,7907,7909,7921,7925,7840,7852,7862,7864,7878,7882,7884,7896,7906,7908,7920,7924)}if(a==R){return new Array(7843,7849,7859,7867,7875,7881,7887,7893,7903,7911,7917,7927,7842,7848,7858,7866,7874,7880,7886,7892,7902,7910,7916,7926)}if(a==X){return new Array(227,7851,7861,7869,7877,297,245,7895,7905,361,7919,7929,195,7850,7860,7868,7876,296,213,7894,7904,360,7918,7928)}}function getEL(a){return document.getElementById(a)}function getSF(){var b=new Array(),a;for(a=0;a<skey.length;a++){b[b.length]=fcc(skey[a])}return b}function statusMessage(){var a="Kiểu gõ: ";if(on_off==0){a+="Tắt"}else{if(method==1){a+="TELEX"}else{if(method==2){a+="VNI"}else{if(method==3){a+="VIQR"}else{if(method==4){a+="VIQR*"}else{if(method==0){a+="Tự động"}}}}}}if(isKHTML){a+=" [Alt-F9]"}else{a+=" [F9]"}a+=" | Chính tả: ";a+=(dockspell==0)?"Tắt":"Bật";if(isKHTML){a+=" [Alt-F8]"}else{a+=" [F8]"}a+=" | Bỏ dấu: ";a+=(dauCu==1)?"Cũ":"Mới";if(isKHTML){a+=" [Alt-F7]"}else{a+=" [F7]"}a+=" | Bật/Tắt [F12] - AVIM 20071102";window.status=a}function updateInfo(){setCookie();if(support){statusMessage()}}function setMethod(a){if(a==-1){on_off=0;if(getEL(radioID[5])){getEL(radioID[5]).checked=true}}else{on_off=1;method=a;if(getEL(radioID[a])){getEL(radioID[a]).checked=true}}setSpell(dockspell);setDauCu(dauCu);updateInfo()}function setDauCu(a){if(typeof(a)=="number"){dauCu=a;if(getEL(radioID[7])){getEL(radioID[7]).checked=a}}else{dauCu=(a.checked)?1:0}updateInfo()}function setSpell(a){if(typeof(a)=="number"){spellerr=(a==1)?ckspell:nospell;if(getEL(radioID[6])){getEL(radioID[6]).checked=a}}else{if(a.checked){spellerr=ckspell;dockspell=1}else{spellerr=nospell;dockspell=0}}updateInfo()}function onKeyDown(b){if(b=="iframe"){frame=findF();var a=frame.event.keyCode}else{var a=(!is_ie)?b.which:window.event.keyCode}if((a==120)||(a==123)||(a==119)||(a==118)){if(a==120){on_off=1;setMethod(((method==4)?0:++method))}else{if(a==118){setDauCu(((dauCu==1)?0:1))}else{if(a==119){dockspell=(dockspell==0)?1:0;setSpell(dockspell)}else{if(a==123){on_off=(on_off==0)?1:0;if(on_off==0){setMethod(-1)}else{setMethod(method)}}}}}updateInfo()}}function ifInit(a){var b=a.getSelection();range=b?b.getRangeAt(0):document.createRange()}function ifMoz(f){var d=f.which,a=f.target.parentNode.wi;if(typeof(a)=="undefined"){a=f.target.parentNode.parentNode.wi}if((f.ctrlKey)||((f.altKey)&&(d!=92)&&(d!=126))){return}ifInit(a);var c=range.endContainer,b;sk=fcc(d);saveStr="";if(checkCode(d)||(!range.startOffset)||(typeof(c.data)=="undefined")){return}c.sel=false;if(c.data){saveStr=c.data.substr(range.endOffset);if(range.startOffset!=range.endOffset){c.sel=true}c.deleteData(range.startOffset,c.data.length)}range.setEnd(c,range.endOffset);range.setStart(c,0);if(!c.data){return}c.value=c.data;c.pos=c.data.length;c.which=d;start(c,f);c.insertData(c.data.length,saveStr);b=c.data.length-saveStr.length+kl;range.setEnd(c,b);range.setStart(c,b);kl=0;if(specialChange){specialChange=false;changed=false;c.deleteData(c.pos-1,1)}if(changed){changed=false;f.preventDefault()}}function FKeyPress(){var a=findF();sk=fcc(a.event.keyCode);if(checkCode(a.event.keyCode)||((a.event.ctrlKey)&&(a.event.keyCode!=92)&&(a.event.keyCode!=126))){return}start(a,fcc(a.event.keyCode));if(changed){changed=false;return false}}function checkCode(a){if(((on_off==0)||((a<45)&&(a!=42)&&(a!=32)&&(a!=39)&&(a!=40)&&(a!=43))||(a==145)||(a==255))){return true}return false}function fcc(a){return String.fromCharCode(a)}if(useCookie==1){setCookie=doSetCookie;getCookie=doGetCookie}else{setCookie=noCookie;getCookie=noCookie}function noCookie(){}function doSetCookie(){var b=new Date(11245711156480).toGMTString(),a=";expires="+b+";path=/";document.cookie="AVIM_on_off="+on_off+a;document.cookie="AVIM_method="+method+a;document.cookie="AVIM_ckspell="+dockspell+a;document.cookie="AVIM_daucu="+dauCu+a}function doGetCookie(){var a=document.cookie,c=/AVIM_method/.test(a);if((!c)||(a.indexOf("AVIM_ckspell")<0)){setCookie();return}var e,d=a.split(";");for(var b=0;b<d.length;b++){e=d[b].split("=");e[0]=e[0].replace(/^\s+/g,"");e[1]=parseInt(e[1]);if(e[0]=="AVIM_on_off"){on_off=e[1]}else{if(e[0]=="AVIM_method"){method=e[1]}else{if(e[0]=="AVIM_ckspell"){if(e[1]==0){dockspell=0;spellerr=nospell}else{dockspell=1;spellerr=ckspell}}else{if(e[0]=="AVIM_daucu"){dauCu=parseInt(e[1])}}}}}}if(!is_ie){if(agt.indexOf("opera")>=0){operaV=agt.split(" ");operaVersion=parseInt(operaV[operaV.length-1]);if(operaVersion>=8){is_opera=true}else{operaV=operaV[0].split("/");operaVersion=parseInt(operaV[1]);if(operaVersion>=8){is_opera=true}}}else{if(agt.indexOf("khtml")>=0){isKHTML=true}else{ver=agt.substr(agt.indexOf("rv:")+3);ver=parseFloat(ver.substr(0,ver.indexOf(" ")));if(agt.indexOf("mozilla")<0){ver=0}}}}function up(a){a=a.toUpperCase();if(isKHTML){str="êôơâăưếốớấắứềồờầằừễỗỡẫẵữệộợậặự",rep="ÊÔƠÂĂƯẾỐỚẤẮỨỀỒỜẦẰỪỄỖỠẪẴỮỆỘỢẶỰ";for(z=0;z<a.length;z++){io=str.indexOf(a.substr(z,1));if(io>=0){a=a.substr(0,z)+rep.substr(io,1)+a.substr(z+1)}}}return a}function findIgnore(a){for(i=0;i<va.length;i++){if((a.id==va[i])&&(va[i].length>0)){return true}}}if((is_ie)||(ver>=1.3)||(is_opera)||(isKHTML)){getCookie();if(on_off==0){setMethod(-1)}else{setMethod(method)}setSpell(dockspell);setDauCu(dauCu);statusMessage()}else{support=false}function onKeyPress(c){if(!support){return}if(!is_ie){var a=c.target,b=c.which;if(c.ctrlKey){return}if((c.altKey)&&(b!=92)&&(b!=126)){return}}else{var a=window.event.srcElement,b=window.event.keyCode;if((event.ctrlKey)&&(b!=92)&&(b!=126)){return}}if(((a.type!="textarea")&&(a.type!="text"))||checkCode(b)){return}sk=fcc(b);if(findIgnore(a)){return}if(!is_ie){start(a,c)}else{start(a,sk)}if(changed){changed=false;if(!is_ie){c.preventDefault()}else{return false}}}function attachEvt(d,a,c,b){if(is_ie){d.attachEvent("on"+a,c);d.attachEvent("on"+a,getCookie)}else{d.addEventListener(a,c,b);d.addEventListener(a,getCookie,b)}}attachEvt(document,"keydown",onKeyDown,false);attachEvt(document,"keypress",onKeyPress,false);function findF(){for(g=0;g<fID.length;g++){if(findIgnore(fID[g])){continue}frame=fID[g];if(typeof(frame)!="undefined"){try{if((frame.contentWindow.document)&&(frame.contentWindow.event)){return frame.contentWindow}}catch(a){if((frame.document)&&(frame.event)){return frame}}}}}function onKeyDownI(){onKeyDown("iframe")}function init(){var d=false;if((support)&&(!isKHTML||is_safari||is_chrome)){if(is_opera){if(operaVersion<9){return}}for(g=0;g<fID.length;g++){if(findIgnore(fID[g])){continue}if(is_ie){var c;try{frame=fID[g];if(typeof(frame)!="undefined"){if(frame.contentWindow.document){c=frame.contentWindow.document}else{if(frame.document){c=frame.document}}}if((c)&&((up(c.designMode)=="ON")||(c.body.contentEditable))){for(l=0;l<attached.length;l++){if(c==attached[l]){d=true;break}}if(!d){attached[attached.length]=c;attachEvt(c,"keydown",onKeyDownI,false);attachEvt(c,"keypress",FKeyPress,false)}else{d=false}}}catch(b){}}else{var a;try{wi=fID[g].contentWindow;a=wi.document;a.wi=wi;if((a)&&(up(a.designMode)=="ON")){attachEvt(a,"keypress",ifMoz,false);attachEvt(a,"keydown",onKeyDown,true)}}catch(b){}}}}}function uglyF(){ugly=50;while(ugly<5000){setTimeout("init()",ugly);ugly+=50}}uglyF();attachEvt(document,"mousedown",uglyF,false);(function(){tinymce.PluginManager.requireLangPack("vietunicode");tinymce.create("tinymce.plugins.VietUnicode",{createControl:function(c,b){switch(c){case"vietunicode_method_listbox":var a=b.createListBox("vietunicode_method_listbox",{title:"vietunicode.select_input_method",onselect:function(d){setMethod(d)}});a.add("vietunicode.off_desc",-1);a.add("vietunicode.telex_desc",1);a.add("vietunicode.vni_desc",2);a.add("vietunicode.viqr_desc",3);a.add("vietunicode.auto_desc",0);a.select(method);return a}return null},init:function(a,b){a.onBeforeRenderUI.add(function(){tinymce.DOM.loadCSS(b+"/css/content.css")})},getInfo:function(){return{longname:"VietUnicode",author:"S.H.Mohanjith",authorurl:"http://mohanjith.com",infourl:"http://mohanjith.com/2008/04/vietnamese-input-plugin-for-tinymce.html",version:"1.0"}}});tinymce.PluginManager.add("vietunicode",tinymce.plugins.VietUnicode)})();